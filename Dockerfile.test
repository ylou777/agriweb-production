# Test ultra-simple avec Tomcat de base
FROM tomcat:9-jre11-slim

# Variables d'environnement
ENV JAVA_OPTS="-Xms128m -Xmx256m -Djava.awt.headless=true"

# Simple page de test
RUN echo '<html><body><h1>Test Railway OK</h1><p>Time: '"$(date)"'</p></body></html>' > /usr/local/tomcat/webapps/ROOT/index.html

# Port
EXPOSE 8080

CMD ["catalina.sh", "run"]
