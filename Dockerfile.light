# Dockerfile alternatif avec GeoServer officiel plus léger
FROM docker.osgeo.org/geoserver:2.24.0

# Variables d'environnement
ENV GEOSERVER_ADMIN_PASSWORD=admin123
ENV GEOSERVER_ADMIN_USER=admin

# Configuration mémoire réduite pour Railway
ENV JAVA_OPTS="-Xms128m -Xmx256m -Djava.awt.headless=true -server"

# Port
EXPOSE 8080

# Script de démarrage simple
RUN echo '#!/bin/bash\n\
echo "Starting GeoServer..."\n\
exec catalina.sh run' > /start.sh && chmod +x /start.sh

CMD ["/start.sh"]
